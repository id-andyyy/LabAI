---
name: lab-draft
description: Создание черновика отчёта (report.md) — текст без изображений
---

Пользователь хочет создать черновик отчёта по лабораторной работе. Черновик — это полный текст report.md без изображений (с плейсхолдерами), для ревью перед финальной генерацией документа.

## Что делать

### Шаг 1. Проверка config.json

Прочитай `.claude/lab/config.json`. Если файл не найден — сообщи пользователю: «Сначала запусти `/lab-setup` для настройки проекта.» и остановись.

### Шаг 2. Чтение источников

Прочитай все необходимые файлы:
1. `.claude/lab/config.json` — конфигурация (стиль, предмет, тип работы).
2. `.claude/lab/gost-content.md` — правила написания текста по ГОСТ.
3. `.claude/lab/assignment.md` — разобранное задание.
4. `instructions.md` — если существует и содержит заполненные результаты (`[ВСТАВИТЬ РЕЗУЛЬТАТ СЮДА]` заменены на реальные данные).

### Шаг 3. Исследование (при необходимости)

Если для написания отчёта не хватает знаний (специфические технологии, протоколы, алгоритмы и т.д.) — выполни поиск в интернете через WebSearch. Не выдумывай.

### Шаг 4. Создание report.md

Создай файл `report.md` в корне проекта. Содержание:

**Структура:**
1. **Цель работы** — сформулировать на основе задания.
2. **Основная часть** — все пункты задания выполнены и описаны подробно:
   - Последовательность действий описана детально.
   - Результаты объяснены, на возникающие вопросы даны ответы.
   - Умозаключения по ходу текста (не только в конце).
   - Если в задании есть контрольные вопросы — ответы на них в соответствующих местах.
3. Плейсхолдеры `[ВСТАВИТЬ РИСУНОК N ЗДЕСЬ]` в местах, где нужны скриншоты/рисунки.
4. Подписи `Рисунок N. Описание` под каждым плейсхолдером.
5. Ссылки на рисунки и таблицы в тексте: `(Рисунок N)` или `на Рисунке N`.

**НЕ включать:**
- Раздел дополнительного исследования (добавляется через `/lab-research`).
- Итоговый вывод (добавляется через `/lab-conclusion`).

**Стиль:**
- Стиль из `config.preferences.report_style`:
  - `first_person` → «Я выполнил», «Я настроил», «Мне удалось установить»
  - `impersonal` → «Было выполнено», «Была проведена настройка», «Удалось установить»
- Уровень детализации из `config.example.detail_level`:
  - `"detailed"` — подробное описание каждого действия, развёрнутые пояснения к каждому шагу, абзац на каждый пункт задания.
  - `"moderate"` — ключевые действия описаны, краткие пояснения, без избыточной детализации.
  - `"brief"` — лаконичный стиль: что сделано + результат, минимум объяснений.
- Если в `config.example.style_notes` есть заметки о стиле примера — учитывай их (характерные обороты, структура, формат подписей и т.д.).
- Все правила из gost-content.md: ё, кавычки «», тире –, №, запятая в дробях, аббревиатуры расшифрованы.
- Избегать «Вывод: ...» → «Таким образом, ...», «Получили, что ...».

### Шаг 5. Сообщение о следующих шагах

После создания report.md сообщи пользователю:
- Черновик создан. Просмотри его и при необходимости:
  - `/lab-improve` — доработать отчёт по замечаниям.
  - `/lab-research` — добавить раздел дополнительного исследования (если `config.preferences.needs_research` = true).
  - `/lab-conclusion` — написать итоговый вывод.
  - `/lab-report` — сгенерировать финальный документ (DOCX/PDF/MD).
- Не забудь положить скриншоты в папку `images/`.

## Дополнительный контекст от пользователя

$ARGUMENTS
