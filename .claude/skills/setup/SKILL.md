---
name: setup
description: Настройка окружения — опрос пользователя о периферии и пожеланиях, запись в CLAUDE.md
user_invocable: true
---

Пользователь хочет настроить проект под себя. Нужно узнать о его устройствах и сети, собрать данные о сетевых интерфейсах, уточнить пожелания к оформлению, а затем записать всё это в CLAUDE.md.

## Что делать

### Шаг 1. Опрос о периферии (один вызов AskUserQuestion)

Задай пользователю все вопросы о периферии одним вызовом AskUserQuestion:

1. **Основной компьютер.** Какой у тебя основной компьютер и какая на нём ОС? (например: ноутбук на Windows 11, MacBook на macOS Sequoia, ПК на Ubuntu 24.04).
2. **Дополнительные компьютеры.** Есть ли дополнительные компьютеры/ноутбуки? Если да — укажи модель и ОС. Если нет — выбери «Нет».
3. **Сеть.** Все устройства подключены к одной домашней Wi-Fi сети?

После получения ответов сразу обнови секцию «Периферия, доступная пользователю:» в CLAUDE.md:
```
Периферия, доступная пользователю:
- Основной компьютер: <ответ>.
- Дополнительные компьютеры: <ответ> (или «Нет»).
- Сеть: <ответ>.
```

### Шаг 2. Сбор сетевых данных с каждого устройства

Для каждого компьютера (основного и дополнительных), упомянутого пользователем, попроси выполнить соответствующую команду и прислать результат в чат:

- **Windows:** `ipconfig /all`
- **macOS:** `ifconfig`
- **Linux:** `ip addr show` (или `ifconfig`, если установлен)

Попроси по одному устройству за раз или всё скопом — как удобнее пользователю. После получения каждого результата:

1. Разбери вывод: найди имя хоста, сетевые адаптеры, IP-адреса (IPv4/IPv6), MAC-адреса, шлюз, DNS-серверы.
2. Сразу добавь/обнови в CLAUDE.md секцию «Сетевые данные устройств:» с разобранными данными в читаемом виде.

Формат секции:
```
Сетевые данные устройств:
Устройство: <название/ОС>
  Имя хоста: <hostname>
  Адаптер: <название адаптера>
    IPv4: <адрес>
    MAC: <адрес>
    Шлюз: <адрес>
    DNS: <адреса>
  ...
```

Если пользователь не предоставил данные для какого-то устройства — напиши «[НЕ НАСТРОЕНО]» и уведоми пользователя, что эта настройка пока не выставлена.

### Шаг 3. Опрос о пожеланиях (один вызов AskUserQuestion)

После сбора сетевых данных задай все вопросы о пожеланиях одним вызовом AskUserQuestion:

1. **Подписи рисунков и таблиц.** Как у тебя принято подписывать рисунки и таблицы? Введи пример подписи рисунка и пример подписи таблицы (например: «Рисунок 1 — Результат команды» и «Таблица 1 — Данные»). Если стандартно по ГОСТ — выбери «Стандарт ГОСТ».
2. **Ссылки на рисунки и таблицы.** Нужно ли в тексте ссылаться на рисунки и таблицы? Если да — как именно? Введи пример ссылки (например: «(Рисунок 1)» или «см. Рисунок 1» или «как показано на Рисунке 1»). Если не нужно — выбери «Не ссылаться».
3. **Лицо и стиль отчёта.** От чьего имени вести отчёт и в каком лице? Введи ФИО автора (если нужно) и укажи лицо: первое («я сделал») или безличное («было выполнено»). Если стандартно (первое лицо, без ФИО) — выбери «Стандарт».
4. **Формат отчёта.** В каком формате нужен готовый текст отчёта: plain text (чистый текст без разметки) или Markdown?
5. **Дополнительные пожелания.** Есть ли другие пожелания к оформлению отчётов или инструкций? Если нет — выбери «Нет».

После получения ответов сразу обнови CLAUDE.md:

- Замени строки-заглушки про подписи рисунков/таблиц, ссылки, лицо автора, формат отчёта в соответствующих секциях на реальные данные пользователя.
- Если выбран «Стандарт ГОСТ» или «Стандарт» — оставь стандартный текст в тех строках.
- Если на какой-то вопрос не ответили — оставь «[НЕ НАСТРОЕНО]» для соответствующего пункта, но уведоми об этом пользователя.

### Шаг 4. Подтверждение

Покажи пользователю настройки, которые все еще не заданы. Если все задано - просто сообщи об успехе. Сообщи, что настройка завершена и теперь все команды (/start, /report и т.д.) будут учитывать его окружение.

## Дополнительный контекст от пользователя

$ARGUMENTS
